<!DOCTYPE html>
<html lang="en" xmlns:th="http://thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      xmlns:sec="http://thymeleaf.org" class="h-full">

<head>
      <title>Register</title>
      <link rel="stylesheet" th:href="@{/tailwind/output.css}" />

      <!-- ? CSS -->
      <link rel="stylesheet" th:href="@{/css/styles.css}" />

      <!-- Font Awesome -->
      <link rel="stylesheet" th:href="@{/webjars/font-awesome/6.5.2/css/all.min.css}">
</head>

<body class="bg-gradient-to-tr from-blue-800 via-oceanBlue to-indigo-900 text-white  overflow-scroll">
      <h2
            class="text-center text-indigo-100 text-2xl font-bold tracking-wide capitalize py-2 flex flex-col gap-5 my-7 font-rubik">
            <i class="fa-solid fa-cubes text-5xl"></i> Create Your Account and
            Join Our Community!
      </h2>
      <div class="max-w-md mx-auto bg-white shadow-lg rounded-lg mt-8 mb-9">
            <form class="p-5" th:object="${user}" th:action="@{/register}" method="post">
                  <div class="mb-1">
                        <label for="username" class="text-gray-700">Username:</label>
                        <input type="text" placeholder="Enter username"
                              th:classappend="${#fields.hasErrors('username')} ? 'border-red-500' : 'border-gray-300'"
                              id="username" name="username" th:field="*{username}"
                              class="w-full px-4 py-2 border text-gray-800 rounded-md focus:outline-none focus:border-blue-400 placeholder-gray-400 placeholder-opacity-50" />

                        <!-- ? Error message -->
                        <span class="text-red-500 text-xs top-full mt-1" th:if="${#fields.hasErrors('username')}"
                              th:errors="*{username}"></span>
                  </div>

                  <div class="mb-1">
                        <label for="email" class="text-gray-700">Email:</label>
                        <input type="email" id="email" name="email" th:field="*{email}"
                              class="w-full px-4 py-2 border text-gray-800 rounded-md focus:outline-none placeholder-gray-400 placeholder-opacity-50"
                              th:classappend="${#fields.hasErrors('email')} ? 'border-red-500' : 'border-gray-300'"
                              placeholder="Enter email" />

                        <!-- ? Error message -->
                        <span class="text-red-500 text-xs top-full mt-1" th:if="${#fields.hasErrors('email')}"
                              th:errors="*{email}"></span>
                  </div>

                  <div class="mb-2">
                        <label for="password" class="text-gray-700">Password:</label>
                        <input type="password" id="password" name="password" th:field="*{password}"
                              class="w-full px-4 py-2 border text-gray-800 rounded-md focus:outline-none placeholder-gray-400 placeholder-opacity-50"
                              th:classappend="${#fields.hasErrors('password')} ? 'border-red-500' : 'border-gray-300'"
                              placeholder="Enter password" />

                        <!-- ? Error message -->
                        <span class="text-red-500 text-xs top-full mt-1" th:if="${#fields.hasErrors('password')}"
                              th:errors="*{password}"></span>
                  </div>

                  <!-- ? Hidden input for the id -->
                  <input type="hidden" th:field="*{id}" />

                  <div>
                        <span th:if="${param.fail}" class="flex items-center text-red-500">
                              <i class="fas fa-exclamation-circle mr-2"></i>
                              Username or email already exists
                        </span>
                  </div>

                  <a th:href="@{/login}" class="block text-center text-blue-500 mt-4 hover:underline">Already have an
                        account? Login here.</a>

                  <button type="submit"
                        class="w-full bg-blue-700 text-white px-4 py-2 rounded-md hover:bg-blue-900 focus:outline-none focus:bg-blue-600 transition duration-300 ease-in-out transform hover:scale-105 mt-4">
                        Register
                  </button>
            </form>
      </div>
</body>

</html>